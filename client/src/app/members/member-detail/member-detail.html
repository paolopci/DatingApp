@if (vm()) {
<div class="row">

    <!-- Colonna sinistra: avatar a rapporto naturale -->
    <div class="col-4">
        <div class="card">
            <img [src]="avatarUrl()" [alt]="vm()?.knownAs || 'User photo'"
                class="img-fluid img-thumbnail profile-photo" />
        </div>

        <div class="card-body">
            <div>
                <strong>Location:</strong>
                <p>{{ vm()?.city }}, {{ vm()?.country }}</p>
            </div>
            <div>
                <strong>Age:</strong>
                <p>{{ vm()?.age }} years</p>
            </div>
            <div>
                <strong>Last Active:</strong>
                <p>{{ vm()?.lastActive }}</p>
            </div>
            <div>
                <strong>Member since:</strong>
                <p>{{ vm()?.created }}</p>
            </div>
        </div>

        <div class="card-footer">
            <div class="btn-group d-flex">
                <button class="btn btn-primary">Like</button>
                <button class="btn btn-success">Message</button>
            </div>
        </div>
    </div>

    <!-- Colonna destra: carousel -->
    <div class="col-8">
        @if (images().length > 0) {
        <div id="memberCarousel" class="carousel slide">
            <div class="carousel-inner carousel-16x9">
                @for (image of images(); track $index) {
                <div class="carousel-item {{ $index === 0 ? 'active' : '' }}">
                    <img [src]="image.url || 'assets/user.png'" class="d-block w-100" [alt]="'photo ' + ($index + 1)" />
                </div>
                }
            </div>

            @if (images().length > 1) {
            <button class="carousel-control-prev" type="button" data-bs-target="#memberCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#memberCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
            }
        </div>
        } @else {
        <!-- Nessuna foto extra: placeholder wide -->
        <img src="assets/user.png" class="d-block w-100" alt="no image available" />
        }
    </div>

</div>
}